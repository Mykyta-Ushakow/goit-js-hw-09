{"mappings":"gfACA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,WAAYC,SAASC,cAAc,kBACnCC,UAAWF,SAASC,cAAc,iBAClCE,YAAaH,SAASC,cAAc,mBACpCG,UAAWJ,SAASC,cAAc,oBAG5BI,EAAkDP,EAAlDC,WAAYO,EAAsCR,EAAtCI,UAAWK,EAA2BT,EAA3BK,YAE/B,SAASK,EAAcC,EAAUC,GAE/B,IAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAES,IAAIC,QAFTH,EAEiB,SAACI,EAASC,GAE3BD,EAAQ,CAAEN,WAAUC,S,EAKH,SAACK,EAASC,GAE3BA,EAAO,CAACP,WAAUC,S,GA6BxB,SAASO,EAAcC,G,IAACT,EAADS,EAACT,SAAUC,EAAXQ,EAAWR,MAChCd,EAAAuB,OAAOC,QAAQ,uBAAwCC,OAAfZ,EAAS,QAAYY,OAANX,EAAM,MAAK,CAAEY,QAAS,K,CAE/E,SAASC,EAAcL,G,IAACT,EAADS,EAACT,SAAUC,EAAXQ,EAAWR,MAChCd,EAAAuB,OAAOK,QAAQ,sBAAqCH,OAAfZ,EAAS,QAAYY,OAANX,EAAM,MAAK,CAACY,QAAS,K,CAlDjBxB,EAAdM,UAqDlCqB,iBAAiB,SA7B3B,WACEC,MAAMC,iBAENC,YAAW,W,kBAOPA,YAAW,W,OAAMpB,EAAcqB,EAAI,EAAGC,OAAOzB,EAAW0B,OAASzB,EAAUyB,MAAQF,GAChFG,MAAK,SAAAC,G,OAAUhB,EAAcgB,E,IAC7BC,OAAM,SAAAC,G,OAASZ,EAAcY,E,MAE9B7B,EAAUyB,MAAQF,E,EATtBrB,EAAc,EAAGsB,OAAOzB,EAAW0B,QAChCC,MAAK,SAAAC,G,OAAUhB,EAAcgB,E,IAC7BC,OAAM,SAAAC,G,OAASZ,EAAcY,E,IAEhC,IAAK,IAAIC,EAAI,EAAGA,EAAI7B,EAAYwB,MAAOK,IAAGC,EAAAD,E,GAS1C/B,EAAW0B,M","sources":["src/js/03-promises.js"],"sourcesContent":["\nimport { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  delayInput: document.querySelector('[name=\"delay\"]'),\n  stepInput: document.querySelector('[name=\"step\"]'),\n  amountInput: document.querySelector('[name=\"amount\"]'),\n  submitBtn: document.querySelector('[type=\"submit\"]'),\n};\n\nconst { delayInput, stepInput, amountInput, submitBtn } = refs;\n\nfunction createPromise(position, delay) {\n\n  const shouldResolve = Math.random() > 0.3;\n\n  if (shouldResolve) {\n    // Fulfill\n    return new Promise((resolve, reject) => {\n\n      resolve({ position, delay });\n      \n    });\n  } else {\n    // Reject\n    return new Promise((resolve, reject) => {\n        \n      reject({position, delay});\n\n    });\n  }\n\n}\n\nfunction handleClick() {\n  event.preventDefault();\n\n  setTimeout(() => {\n\n    createPromise(1, Number(delayInput.value))\n      .then(values => notifySuccess(values))\n      .catch(error => notifyFailure(error));\n    \n    for (let i = 1; i < amountInput.value; i++) {\n      setTimeout(() => createPromise(i + 1, Number(delayInput.value) + stepInput.value * i)\n        .then(values => notifySuccess(values))\n        .catch(error => notifyFailure(error)),\n        \n        stepInput.value * i);\n    }\n    \n  },\n    delayInput.value);\n\n}\n\nfunction notifySuccess({position, delay}) {\n  Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`, { timeout: 10000 });\n}\nfunction notifyFailure({position, delay}) {\n  Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`, {timeout: 10000});\n}\n\nsubmitBtn.addEventListener(\"click\", handleClick);"],"names":["$h6c0i","parcelRequire","$ce04d3a99e08e73b$var$refs","delayInput","document","querySelector","stepInput","amountInput","submitBtn","$ce04d3a99e08e73b$var$delayInput","$ce04d3a99e08e73b$var$stepInput","$ce04d3a99e08e73b$var$amountInput","$ce04d3a99e08e73b$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","$ce04d3a99e08e73b$var$notifySuccess","param","Notify","success","concat","timeout","$ce04d3a99e08e73b$var$notifyFailure","failure","addEventListener","event","preventDefault","setTimeout","i","Number","value","then","values","catch","error","i1","_loop"],"version":3,"file":"03-promises.35f9d7c6.js.map"}